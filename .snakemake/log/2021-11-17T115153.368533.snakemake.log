Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job              count    min threads    max threads
-------------  -------  -------------  -------------
all                  1              1              1
clonalframeml        2              1              1
iqtree               2              1              1
remove_seqs          1              1              1
snippy_clean         1              1              1
snippy_core          1              1              1
total                8              1              1

Select jobs to execute...

[Wed Nov 17 11:51:53 2021]
rule snippy_core:
    input: /home/conrad/test-snakemake/raw-snippy-output/A077-H36-15-04-2009, /home/conrad/test-snakemake/raw-snippy-output/A077-H138-28-05-2009, /home/conrad/test-snakemake/raw-snippy-output/A077-H201-11-05-2009, /home/conrad/test-snakemake/raw-snippy-output/A013-H12-09-07-2003, /home/conrad/test-snakemake/raw-snippy-output/A077-H202-25-05-2009
    output: /home/conrad/test-snakemake/snippy-core/12.full.aln
    jobid: 6
    wildcards: output=/home/conrad/test-snakemake/, st=12
    resources: tmpdir=/tmp

snippy-core --prefix /home/conrad/test-snakemake//snippy-core/12 --ref /home/conrad/test-snakemake/st12_ref.fna /home/conrad/test-snakemake/raw-snippy-output/A077-H36-15-04-2009 /home/conrad/test-snakemake/raw-snippy-output/A077-H138-28-05-2009 /home/conrad/test-snakemake/raw-snippy-output/A077-H201-11-05-2009 /home/conrad/test-snakemake/raw-snippy-output/A013-H12-09-07-2003 /home/conrad/test-snakemake/raw-snippy-output/A077-H202-25-05-2009
[Wed Nov 17 11:51:54 2021]
Finished job 6.
1 of 8 steps (12%) done
Select jobs to execute...

[Wed Nov 17 11:51:54 2021]
rule snippy_clean:
    input: /home/conrad/test-snakemake/snippy-core/12.full.aln
    output: /home/conrad/test-snakemake/snippy-core/12.clean.full.aln
    jobid: 7
    wildcards: output=/home/conrad/test-snakemake/, st=12
    resources: tmpdir=/tmp

snippy-clean_full_aln /home/conrad/test-snakemake/snippy-core/12.full.aln > /home/conrad/test-snakemake/snippy-core/12.clean.full.aln
[Wed Nov 17 11:51:54 2021]
Finished job 7.
2 of 8 steps (25%) done
Select jobs to execute...

[Wed Nov 17 11:51:54 2021]
rule remove_seqs:
    input: /home/conrad/test-snakemake/snippy-core/12.clean.full.aln
    output: /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln, /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln
    jobid: 8
    resources: tmpdir=/tmp

/home/conrad/anaconda3/envs/i18_snp_pipeline_env_testing/bin/python3.7 /home/conrad/test-snakemake/.snakemake/scripts/tmpal9f4xfw.remove_seqs_function.py
[Wed Nov 17 11:51:54 2021]
Finished job 8.
3 of 8 steps (38%) done
Select jobs to execute...

[Wed Nov 17 11:51:55 2021]
rule iqtree:
    input: /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln
    output: /home/conrad/test-snakemake/iqtree/12.no_ref_without_outgroups.contree
    jobid: 10
    wildcards: output=/home/conrad/test-snakemake/, st=12, remove_seqs_flag_no_dot=no_ref_without_outgroups
    resources: tmpdir=/tmp

iqtree -s /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln -m MFP -bb 10000 -nt AUTO -pre /home/conrad/test-snakemake/iqtree/12.no_ref_without_outgroups
[Wed Nov 17 11:52:19 2021]
Finished job 10.
4 of 8 steps (50%) done
Select jobs to execute...

[Wed Nov 17 11:52:19 2021]
rule clonalframeml:
    input: /home/conrad/test-snakemake/iqtree/12.no_ref_without_outgroups.contree, /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln
    output: /home/conrad/test-snakemake/cfml/12.no_ref_without_outgroups.labelled_tree.newick
    jobid: 12
    wildcards: output=/home/conrad/test-snakemake/, st=12, remove_seqs_flag_no_dot=no_ref_without_outgroups
    resources: tmpdir=/tmp

ClonalFrameML /home/conrad/test-snakemake/iqtree/12.no_ref_without_outgroups.contree /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln /home/conrad/test-snakemake/cfml/12.no_ref_without_outgroups -em true -show_progress true
[Wed Nov 17 11:52:46 2021]
Finished job 12.
5 of 8 steps (62%) done
Select jobs to execute...

[Wed Nov 17 11:52:46 2021]
rule iqtree:
    input: /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln
    output: /home/conrad/test-snakemake/iqtree/12.no_ref_with_outgroups.contree
    jobid: 9
    wildcards: output=/home/conrad/test-snakemake/, st=12, remove_seqs_flag_no_dot=no_ref_with_outgroups
    resources: tmpdir=/tmp

iqtree -s /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln -m MFP -bb 10000 -nt AUTO -pre /home/conrad/test-snakemake/iqtree/12.no_ref_with_outgroups
[Wed Nov 17 11:53:13 2021]
Finished job 9.
6 of 8 steps (75%) done
Select jobs to execute...

[Wed Nov 17 11:53:13 2021]
rule clonalframeml:
    input: /home/conrad/test-snakemake/iqtree/12.no_ref_with_outgroups.contree, /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln
    output: /home/conrad/test-snakemake/cfml/12.no_ref_with_outgroups.labelled_tree.newick
    jobid: 11
    wildcards: output=/home/conrad/test-snakemake/, st=12, remove_seqs_flag_no_dot=no_ref_with_outgroups
    resources: tmpdir=/tmp

ClonalFrameML /home/conrad/test-snakemake/iqtree/12.no_ref_with_outgroups.contree /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln /home/conrad/test-snakemake/cfml/12.no_ref_with_outgroups -em true -show_progress true
Terminating processes on user request, this might take some time.
[Wed Nov 17 11:54:32 2021]
Error in rule clonalframeml:
    jobid: 11
    output: /home/conrad/test-snakemake/cfml/12.no_ref_with_outgroups.labelled_tree.newick
    shell:
        ClonalFrameML /home/conrad/test-snakemake/iqtree/12.no_ref_with_outgroups.contree /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln /home/conrad/test-snakemake/cfml/12.no_ref_with_outgroups -em true -show_progress true
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: /home/conrad/test-snakemake/.snakemake/log/2021-11-17T115153.368533.snakemake.log
