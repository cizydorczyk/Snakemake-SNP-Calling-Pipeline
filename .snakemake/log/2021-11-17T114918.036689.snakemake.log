Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job              count    min threads    max threads
-------------  -------  -------------  -------------
all                  1              1              1
clonalframeml        2              1              1
iqtree               2              1              1
maskrcsvg            2              1              1
remove_seqs          1              1              1
snippy_clean         1              1              1
snippy_core          1              1              1
total               10              1              1

Select jobs to execute...

[Wed Nov 17 11:49:18 2021]
rule snippy_core:
    input: /home/conrad/test-snakemake/raw-snippy-output/A077-H36-15-04-2009, /home/conrad/test-snakemake/raw-snippy-output/A077-H138-28-05-2009, /home/conrad/test-snakemake/raw-snippy-output/A077-H201-11-05-2009, /home/conrad/test-snakemake/raw-snippy-output/A013-H12-09-07-2003, /home/conrad/test-snakemake/raw-snippy-output/A077-H202-25-05-2009
    output: /home/conrad/test-snakemake/snippy-core/12.full.aln
    jobid: 6
    wildcards: output=/home/conrad/test-snakemake/, st=12
    resources: tmpdir=/tmp

snippy-core --prefix /home/conrad/test-snakemake//snippy-core/12 --ref /home/conrad/test-snakemake/st12_ref.fna /home/conrad/test-snakemake/raw-snippy-output/A077-H36-15-04-2009 /home/conrad/test-snakemake/raw-snippy-output/A077-H138-28-05-2009 /home/conrad/test-snakemake/raw-snippy-output/A077-H201-11-05-2009 /home/conrad/test-snakemake/raw-snippy-output/A013-H12-09-07-2003 /home/conrad/test-snakemake/raw-snippy-output/A077-H202-25-05-2009
[Wed Nov 17 11:49:18 2021]
Finished job 6.
1 of 10 steps (10%) done
Select jobs to execute...

[Wed Nov 17 11:49:18 2021]
rule snippy_clean:
    input: /home/conrad/test-snakemake/snippy-core/12.full.aln
    output: /home/conrad/test-snakemake/snippy-core/12.clean.full.aln
    jobid: 7
    wildcards: output=/home/conrad/test-snakemake/, st=12
    resources: tmpdir=/tmp

snippy-clean_full_aln /home/conrad/test-snakemake/snippy-core/12.full.aln > /home/conrad/test-snakemake/snippy-core/12.clean.full.aln
[Wed Nov 17 11:49:19 2021]
Finished job 7.
2 of 10 steps (20%) done
Select jobs to execute...

[Wed Nov 17 11:49:19 2021]
rule remove_seqs:
    input: /home/conrad/test-snakemake/snippy-core/12.clean.full.aln
    output: /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln, /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln
    jobid: 8
    resources: tmpdir=/tmp

/home/conrad/anaconda3/envs/i18_snp_pipeline_env_testing/bin/python3.7 /home/conrad/test-snakemake/.snakemake/scripts/tmpts_czf0k.remove_seqs_function.py
[Wed Nov 17 11:49:19 2021]
Finished job 8.
3 of 10 steps (30%) done
Select jobs to execute...

[Wed Nov 17 11:49:19 2021]
rule iqtree:
    input: /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln
    output: /home/conrad/test-snakemake/iqtree/12.no_ref_with_outgroups.contree
    jobid: 9
    wildcards: output=/home/conrad/test-snakemake/, st=12, remove_seqs_flag_no_dot=no_ref_with_outgroups
    resources: tmpdir=/tmp

iqtree -s /home/conrad/test-snakemake/snippy-core/12.no_ref_with_outgroups.clean.full.aln -m MFP -bb 10000 -nt AUTO -pre /home/conrad/test-snakemake/iqtree/12.no_ref_with_outgroups
[Wed Nov 17 11:49:45 2021]
Finished job 9.
4 of 10 steps (40%) done
Select jobs to execute...

[Wed Nov 17 11:49:45 2021]
rule maskrcsvg:
    input: /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln
    output: /home/conrad/test-snakemake/cfml/12.rc_masked.no_ref_without_outgroups.clean.full.aln
    jobid: 14
    wildcards: output=/home/conrad/test-snakemake/, st=12, remove_seqs_flag_no_dot=no_ref_without_outgroups
    resources: tmpdir=/tmp

maskrc-svg.py --aln /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln --out /home/conrad/test-snakemake/cfml/12.rc_masked.no_ref_without_outgroups.clean.full.aln --regions /home/conrad/test-snakemake/cfml/12.rc_masked.no_ref_without_outgroups.regions.txt /home/conrad/test-snakemake/cfml/12.no_ref_without_outgroups
[Wed Nov 17 11:49:46 2021]
Error in rule maskrcsvg:
    jobid: 14
    output: /home/conrad/test-snakemake/cfml/12.rc_masked.no_ref_without_outgroups.clean.full.aln
    shell:
        maskrc-svg.py --aln /home/conrad/test-snakemake/snippy-core/12.no_ref_without_outgroups.clean.full.aln --out /home/conrad/test-snakemake/cfml/12.rc_masked.no_ref_without_outgroups.clean.full.aln --regions /home/conrad/test-snakemake/cfml/12.rc_masked.no_ref_without_outgroups.regions.txt /home/conrad/test-snakemake/cfml/12.no_ref_without_outgroups
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/conrad/test-snakemake/.snakemake/log/2021-11-17T114918.036689.snakemake.log
